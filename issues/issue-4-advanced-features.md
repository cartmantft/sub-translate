---

**제목 (Title):**
`[기능] Advanced Features: 이미지 오버레이 및 BGM 추가`

#### 문제점 (Problem Statement)
현재 편집기는 텍스트(자막) 추가만 가능하여 표현의 한계가 명확합니다. 숏폼 콘텐츠의 매력을 높이기 위해 필수적인 이미지(스티커, 밈) 오버레이 기능과 배경음악(BGM) 추가 기능이 부재하여, 사용자가 더 풍부하고 동적인 비디오를 제작할 수 없습니다.

#### 목표 (Goal)
사용자가 자신의 이미지를 업로드하여 특정 편집 블록 구간에 오버레이로 추가하고, 별도의 오디오 트랙에 배경음악을 추가할 수 있는 기능을 개발합니다. 이를 통해 사용자는 텍스트를 넘어선 다채로운 비디오 콘텐츠를 제작할 수 있게 됩니다.

#### 완료 조건 (Acceptance Criteria)
- [ ] **이미지 오버레이:**
    - [ ] 사용자가 로컬 파일을 통해 이미지를 업로드할 수 있다.
    - [ ] 업로드된 이미지는 미디어/리소스 패널에 표시된다.
    - [ ] 특정 블록에 이미지를 추가하면, 해당 시간 동안 비디오 미리보기에 오버레이로 표시된다.
    - [ ] 이미지의 크기 및 위치를 비디오 미리보기 위에서 직접 조절할 수 있다.
    - [ ] 최종 렌더링 시, 이미지 오버레이가 비디오에 포함된다.
- [ ] **배경음악(BGM):**
    - [ ] 사용자가 자신의 오디오 파일을 업로드할 수 있다.
    - [ ] 타임라인에 별도의 오디오 트랙이 추가된다.
    - [ ] 오디오 트랙에 BGM을 추가하고, 볼륨을 조절할 수 있다.
    - [ ] 최종 렌더링 시, BGM이 비디오의 오디오와 믹싱된다.

#### 예상 작업 목록 (Suggested Tasks)
- [ ] `user_assets` 테이블 스키마를 Supabase에 적용하여 사용자 자산 관리 기반 마련.
- [ ] 이미지/오디오 파일 업로드를 위한 UI 및 Supabase Storage 연동 로직 구현.
- [ ] `project_data` JSON 스키마를 확장하여 이미지, 오디오 요소 정보를 포함하도록 설계.
- [ ] 비디오 미리보기에 이미지 요소를 렌더링하고, 드래그/리사이즈 상호작용을 구현.
- [ ] 타임라인 UI에 오디오 트랙을 추가하고, 오디오 파형을 시각화하는 기능 구현 (예: `wavesurfer.js` 활용).
- [ ] `ffmpeg.wasm` 렌더링 스크립트를 수정하여 이미지 오버레이(`overlay` 필터)와 오디오 믹싱(`amix` 필터)을 처리하도록 확장.

---